---
description: Useful when dealing with drf views and serializers
globs: **/serializers.py,**/serializers/*.py,**/views.py,**/views/*.py
alwaysApply: false
---

# DRF (Django rest framework) 

## Security
- Limit access via permission classes
- Limit access to user related only objects via queryset override
- User ReadOnly model viewset when providing general configuration data to avoid users messing with it
- Drop destructive viewset mixings (e.g delete) if not needed explicitly


## Best practice

- Use custom actions when built in HTTP semantics don't fit well, for example prefer: "/posts/1/like" custom action for liking a post
over POST "posts/1/likes/".
- Prefer custom filterset_class over adding filters in view queryset/actions
- When need to support "search like" filtering you can also use `filter_backends = [filters.SearchFilter]` but specify the search fields explicitly
- Always use extend_schema to provide details schemas for swagger generator if using custom actions or overriding default serializer behavior
